<ng-include src=" 'app/template/partial/menuTop.html' "></ng-include>
<div class="col-lg-12 body">
  <ng-include src=" 'app/template/partial/menuLeft.html' "></ng-include>
  <div class="col-lg-10 panel panel-default principal">
	<div class="panel-body">
	  <div class="page-header">
		<CENTER><h1>SISTEMA DE USUARIOS</h1></center>
	  </div>
	</div>
	<div class="row" style="margin-top: 0px;">
	  <div class="col-lg-3 col-lg-offset-8">

	  </div>
	</div>
	<div class="row" style="margin-top: 0px;">
	  <div class="col-lg-3 col-lg-offset-1">
		<h4><img class="img-circle iconoAgregar" src="img/IconoAgregar.png" data-toggle="modal" data-target="#nuevoUsuario">Agregar un Nuevo Usuario</h4>
		<form class="form-inline navbar-form navbar-left">
		  <div class="form-group formulario">
			<input type="text" class="form-control" placeholder="Buscar">
		  </div>
		  <button type="submit" class="btn btn-default botonBuscar">Buscar</button>
		</form>
	  </div>
	  <div class="col-lg-7" style="margin-top: 20px;">
		<div class="table-responsive ">
		  <table class="table">
			<tr>
			  <th>Cédula</th>
			  <th>Nombre del Usuario</th>
			  <th>Apellido del Usuario</th>
			  <th>Telefono</th>
			  <th>Alias</th>
			  <th>Rol</th>
			  <th>Acciones</th>
			</tr>
			<tr ng-repeat="usuario in usuarios">
			  <td>{{usuario.usu_cedula}}</td>
			  <td>{{usuario.usu_nombre}}</td>
			  <td>{{usuario.usu_apellido}}</td>
			  <td>{{usuario.usu_telefono}}</td>
			  <td>{{usuario.usu_alias}}</td>
			  <td>{{usuario.rol_id}}</td>
			  <td><i ng-click="editar(usuario)" title="Editar" class="glyphicon glyphicon-pencil iconoTabla"></i>
				<i ng-click="eliminar(usuario)" title="Eliminar" class="glyphicon glyphicon-trash"></i></td>
			</tr>

		  </table>
		  <nav aria-label="...">
			<ul class="pager">
			  <li class="previous disabled"><a href="#"><span aria-hidden="true">&larr;</span> Anterior</a></li>
			  <li class="next"><a href="#">Siguiente <span aria-hidden="true">&rarr;</span></a></li>
			</ul>
		  </nav>
		</div>
	  </div>
	</div>

  </div>
</div>


<!-- MODAL NUEVO USUARIO-->
<div class="modal fade bs-example-modal-lg" tabindex="-1" id="nuevoUsuario" role="dialog" aria-labelledby="mySmallModalLabel">
  <div class="modal-dialog modal-lg" role="document">
	<div class="modal-content">
	  <div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<h4 class="modal-title" id="myModalLabel"><i class="fa fa-plus-circle"></i>
		  Nuevo Usuario</h4>
	  </div>
	  <div class="modal-body">
		<form ng-submit="submit()">
		  <div class="alert alert-success" ng-show="usuarioRegistrado">
			<center>Usuario Creado Con Exito</center>
		  </div>

		  <div class="row">
			<div class="col-lg-6">
			  <div class="panel panel-default">
				<div class="panel-heading">DATOS PERSONALES</div>
				<div class="panel-body">
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="glyphicon glyphicon-credit-card"></i>
					  </span>
					  <input ng-model="dataRegistrarUsuario.cedula" type="number" class="form-control" aria-label="..." placeholder="CEDULA" required>
					</div>
					<span ng-show="inputError.cedula" id="helpBlock" class="help-block alert alert-danger">{{inputError.cedula}}</span>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-user-circle-o"></i>
					  </span>
					  <input ng-model="dataRegistrarUsuario.nombre" type="text" class="form-control" aria-label="..." placeholder="NOMBRE" required>
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-user iconoForm"></i>
					  </span>
					  <input ng-model="dataRegistrarUsuario.apellido" type="text" class="form-control" aria-label="..." placeholder="APELLIDO" required>
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-mobile iconoForm2"></i>
					  </span>
					  <input ng-model="dataRegistrarUsuario.telefono" type="tel" class="form-control" aria-label="..." placeholder="TELEFONO" required>
					</div>
				  </div>
				</div>
			  </div>
			</div>
			<div class="col-lg-6">
			  <div class="panel panel-default">
				<div class="panel-heading">DATOS DEL USUARIO</div>
				<div class="panel-body">
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-user-secret iconoForm"></i>
					  </span>
					  <input ng-model="dataRegistrarUsuario.alias" type="text" class="form-control" aria-label="..." placeholder="USUARIO" required>
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-lock iconoForm3"></i>
					  </span>
					  <input ng-model="dataRegistrarUsuario.contrasena" type="password" class="form-control" aria-label="..." placeholder="CONTRASEÑA" required>
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-unlock-alt iconoForm3"></i>
					  </span>
					  <input ng-model="dataRegistrarUsuario.contrasena2" type="password" class="form-control" aria-label="..." placeholder="CONFIRMAR CONTRASEÑA" required>
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-users"></i>
					  </span>
					  <select ng-model="dataRegistrarUsuario.rol" class="form-control input-sm" aria-label="..." required>
						<option value="">SELECCIONE SU ROL</option>
						<option value="1">ADMIN</option>
						<option value="2">CELADOR</option>
					  </select>
					</div>
				  </div>
				</div>
			  </div>
			</div>
		  </div>
		  <div class="row">
			<div class="col-lg-6 col-lg-offset-3">
			  <button type="submit" class="btn btn-primary btn-block btn-sm">Crear Usuario</button>
			</div>
		  </div>
		</form>
	  </div>
	</div>
  </div>
</div>




<!-- MODAL EDITAR USUARIO-->
<div class="modal fade bs-example-modal-lg" tabindex="-1" id="editarUsuario" role="dialog" aria-labelledby="mySmallModalLabel">
  <div class="modal-dialog modal-lg" role="document">
	<div class="modal-content">
	  <div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<h4 class="modal-title" id="myModalLabel"><i class="fa fa-pencil"></i>
		  Editar Usuario</h4>
	  </div>
	  <div class="modal-body">
		<form ng-submit="submitEditarUsuario()">
		  <div class="alert alert-success" ng-show="usuarioEditado">
			<center>Usuario Editado Con Exito</center>
		  </div>

		  <div class="row">
			<div class="col-lg-6">
			  <div class="panel panel-default">
				<div class="panel-heading">DATOS PERSONALES</div>
				<div class="panel-body">
				  <div class="form-group" hidden>
					<div class="input-group">
					  <span class="input-group-addon"><i class="glyphicon glyphicon-credit-card"></i>
					  </span>
					  <input type="text" class="form-control" ng-model="edit.id" aria-label="..." readonly placeholder="id">
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="glyphicon glyphicon-credit-card"></i>
					  </span>
					  <input type="text" class="form-control" ng-model="edit.cedula" aria-label="..." placeholder="CEDULA" readonly>
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-user-circle-o"></i>
					  </span>
					  <input type="text" class="form-control" ng-model="edit.nombre" aria-label="..." placeholder="NOMBRE">
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-user iconoForm"></i>
					  </span>
					  <input type="text" class="form-control" ng-model="edit.apellido" aria-label="..." placeholder="APELLIDO">
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-mobile iconoForm2"></i>
					  </span>
					  <input type="text" class="form-control" ng-model="edit.telefono" aria-label="..." placeholder="TELEFONO">
					</div>
				  </div>
				</div>
			  </div>
			</div>
			<div class="col-lg-6">
			  <div class="panel panel-default">
				<div class="panel-heading">DATOS DEL USUARIO</div>
				<div class="panel-body">
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-user-secret iconoForm"></i>
					  </span>
					  <input type="text" class="form-control" ng-model="edit.alias" aria-label="..." placeholder="USUARIO">
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-lock iconoForm3"></i>
					  </span>
					  <input type="password" class="form-control" ng-model="edit.contrasena" aria-label="..." placeholder="CONTRASEÑA">
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-unlock-alt iconoForm3"></i>
					  </span>
					  <input type="password" class="form-control" ng-model="edit.contrasena2" aria-label="..." placeholder="CONFIRMAR CONTRASEÑA">
					</div>
				  </div>
				  <div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon"><i class="fa fa-users"></i>
					  </span>
					  <select class="form-control input-sm" ng-model="edit.rol" aria-label="...">
						<option value="1">USUARIO</option>
						<option value="2">ADMIN</option>
					  </select>
					</div>
				  </div>
				</div>
			  </div>
			</div>
		  </div>
		  <div class="row">
			<div class="col-lg-6 col-lg-offset-3">
			  <button type="submit" class="btn btn-primary btn-block btn-sm">Editar Usuario</button>
			</div>
		  </div>
		</form>
	  </div>
	</div>
  </div>
</div>




<!-- MODAL ELIMINAR COLABORADOR-->
<div class="modal fade bs-example-modal-sm" tabindex="-1" id="eliminarUsuario" role="dialog" aria-labelledby="mySmallModalLabel">
  <div class="modal-dialog modal-sm" role="document">
	<div class="modal-content">
	  <div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<h4 class="modal-title" id="myModalLabel"><i class="fa fa-trash"></i>
		  Eliminar Usuario</h4>
	  </div>
	  <div class="modal-body">
		<div class="alert alert-success" ng-show="colaboradorEliminado">
		  <center>Usuario Eliminado</center>
		</div>
		<center>
		  <h4>Esta seguro?</h4>
		  <p>Se va a eliminar el Usuario</p>
		  <h3>{{nombre}}</h3>
		</center>
		<button ng-click="submitEliminarUsuario()" type="button" class="btn btn-danger btn-block btn-sm">Eliminar</button>
	  </div>
	</div>
  </div>
</div>


